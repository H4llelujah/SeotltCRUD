"use strict";(self.webpackChunkseotlt=self.webpackChunkseotlt||[]).push([[483],{483:(e,n,a)=>{a.r(n),a.d(n,{default:()=>J});var l=a(540),t=a(423),s=a(80),c=a(942),o=a(954),r=a(102),i=a(334),u=a(705),d=a(296),h=a(986);var x=a(848),g=["className","value","onChange","placeholder","type"];function j(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?j(Object(a),!0).forEach((function(n){(0,u.A)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var p=(0,l.memo)((function(e){var n=e.className,a=e.value,s=e.onChange,c=e.placeholder,o=e.type,r=void 0===o?"text":o,i=(0,h.A)(e,g),j=(0,l.useRef)(),p=(0,l.useState)(!1),f=(0,d.A)(p,2),C=f[0],v=f[1],k=(0,u.A)({},"NIL8h49X",C);return(0,x.jsx)("div",{className:(0,t.x)("LuFDUWoP",k,[n]),children:(0,x.jsx)("input",m({ref:j,type:r,value:a,onChange:function(e){null==s||s(e.target.value)},className:"LVdIPwcx",onFocus:function(){v(!0)},onBlur:function(){v(!1)},placeholder:c},i))})})),f=a(804),C=a(608);var v=(0,l.memo)((function(e){var n=e.className,a=e.onChangeImg,l=e.onChangeSubtitle,s=e.onChangeTitle,r=e.imgLink,i=e.subtitle,u=e.title,d=(0,x.jsx)("div",{className:"y0Zg_f6M",children:"NO PHOTO"});return(0,x.jsxs)(c.T,{gap:"8",className:(0,t.x)("",{},[n]),children:[(0,x.jsx)(o.z,{max:!0,children:(0,x.jsx)(p,{value:u,onChange:s,placeholder:"Заголовок"})}),(0,x.jsx)(o.z,{max:!0,children:(0,x.jsx)(p,{value:i,onChange:l,placeholder:"Подзаголовок"})}),(0,x.jsx)(o.z,{max:!0,children:(0,x.jsx)(p,{value:r,onChange:a,placeholder:"Превью-фото(введите ссылку на изображение)"})}),(0,x.jsx)(o.z,{max:!0,children:(0,x.jsx)(f.r,{src:r,fallback:(0,x.jsx)(C.a,{}),errorFallback:d})})]})})),k=a(828),b=a(914);const N={};var w=(0,l.memo)((function(e){var n=e.className,a=e.value,l=e.onChange;return(0,x.jsx)("textarea",{value:a,onChange:function(e){null==l||l(e.target.value)},className:(0,t.x)("DSwjRugL",{},[n])})})),y=(0,l.memo)((function(e){var n=e.className,a=e.paragraph,l=e.title,s=e.onChangeParagraph,o=e.onChangeTitle;return(0,x.jsxs)(c.T,{max:!0,gap:"8",className:(0,t.x)(N.NewsTextBlockCreator,{},[n]),children:[(0,x.jsx)(p,{placeholder:"заголовок",value:l,onChange:o}),(0,x.jsx)(w,{value:a,onChange:s})]})}));const O={};var T=(0,l.memo)((function(e){var n=e.className,a=e.link,l=e.title,s=e.onChangeTitle,o=e.onChangeLink;return(0,x.jsxs)(c.T,{max:!0,gap:"8",className:(0,t.x)(O.NewsImageBlockCreator,{},[n]),children:[(0,x.jsx)(p,{value:l,onChange:s,placeholder:"Заголовок блока"}),(0,x.jsx)(p,{value:a,onChange:o,placeholder:"Ссылка на изображение"})]})})),A=a(795),P=(0,l.memo)((function(e){var n=e.className,a=e.index,i=e.onAddBlock,u=(0,l.useState)(),h=(0,d.A)(u,2),g=h[0],j=h[1],m=(0,l.useState)(!1),p=(0,d.A)(m,2),f=p[0],C=p[1],v=(0,l.useState)(),k=(0,d.A)(v,2),b=k[0],N=k[1],w=(0,l.useState)(),O=(0,d.A)(w,2),P=O[0],E=O[1],L=(0,l.useState)(!1),S=(0,d.A)(L,2),B=S[0],J=S[1],z=(0,l.useCallback)((function(e){E(e)}),[]),D=(0,l.useCallback)((function(e){N(e)}),[]),I=(0,l.useCallback)((function(){j(s.Ls.TEXT),C(!0)}),[]),$=(0,l.useCallback)((function(){j(s.Ls.IMAGE),C(!0)}),[]),F=(0,l.useCallback)((function(){void 0!==a&&i&&g&&(P&&b?(i(g,a,P,b),C(!1),E(""),N("")):J(!0))}),[g,a,i,b,P]),X=(0,l.useCallback)((function(){C(!1),E(""),N("")}),[]);return(0,x.jsxs)(c.T,{gap:"8",max:!0,className:(0,t.x)("yiX1BxQL",{},[n]),children:[(0,x.jsxs)(o.z,{gap:"8",children:[B&&(0,x.jsx)(A.E,{text:"Все поля обязательны!",variant:"error"}),(0,x.jsx)(r.$,{onClick:I,children:"Создать текстовый блок"}),(0,x.jsx)(r.$,{onClick:$,children:"Создать блок с изображением"})]}),f&&g===s.Ls.TEXT?(0,x.jsx)(y,{title:b,paragraph:P,onChangeTitle:D,onChangeParagraph:z}):(0,x.jsx)(T,{link:P,title:b,onChangeLink:z,onChangeTitle:D}),f&&(0,x.jsxs)(o.z,{gap:"8",justify:"between",children:[(0,x.jsx)(r.$,{onClick:F,color:"success",children:"Сохранить"}),(0,x.jsx)(r.$,{onClick:X,color:"error",children:"Отменить"})]})]})})),E=a(767),L=a(702),S=(0,l.memo)((function(e){var n,a,u=e.className,d=(e.isEdit,e.news),h=(0,k.j)(),g=(0,E.Zp)(),j=(0,l.useCallback)((function(e){h(s.Jg.updateNews({img:e||""}))}),[]),m=(0,l.useCallback)((function(e){h(s.Jg.updateNews({subtitle:e||""}))}),[]),p=(0,l.useCallback)((function(e){h(s.Jg.updateNews({title:e||""}))}),[]),f=(0,l.useCallback)((function(e,n,a,l){h(s.Jg.addNewBlock({blockType:e,index:n,value:a,title:l}))}),[]),C=(0,l.useCallback)((function(e){h(s.Jg.deleteBlock(e))}),[]),N=(0,l.useCallback)((function(){h(s.Jg.onSaveEdit()),g((0,L.H)())}),[]),w=(0,l.useCallback)((function(){h(s.Jg.onCancelEdit()),g((0,L.H)())}),[]);return(0,x.jsxs)(c.T,{max:!0,gap:"16",className:(0,t.x)("",{},[u]),children:[(0,x.jsxs)(o.z,{justify:"between",max:!0,children:[(0,x.jsx)(r.$,{onClick:w,color:"error",children:"Отменить"}),(0,x.jsx)(r.$,{onClick:N,color:"success",children:"Сохранить"})]}),(0,x.jsxs)(i.Z,{max:!0,padding:"24",children:[(0,x.jsx)(v,{onChangeImg:j,onChangeSubtitle:m,onChangeTitle:p,imgLink:null==d?void 0:d.img,subtitle:null==d?void 0:d.subtitle,title:null==d?void 0:d.title}),null==d||null===(n=d.blocks)||void 0===n?void 0:n.map((function(e,n){return(0,x.jsxs)(c.T,{gap:"16",children:[(0,b.J)(e,!0,C),(0,x.jsx)(P,{index:n,onAddBlock:f})]},e.id)})),!(null!=d&&null!==(a=d.blocks)&&void 0!==a&&a.length)&&(0,x.jsx)(P,{index:0,onAddBlock:f})]})]})})),B=a(468);const J=(0,l.memo)((function(e){var n=e.className,a=(0,k.j)(),c=(0,E.g)().id,o=Boolean(c),r=(0,B.d4)(s.Ey);return(0,l.useEffect)((function(){a(s.Jg.setForm(o))}),[]),(0,x.jsx)("div",{className:(0,t.x)("V_Gnl4dk",{},[n]),children:(0,x.jsx)(S,{isEdit:o,news:r})})}))}}]);